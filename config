# This configuration has been modified.  Mostly global config is in this config, everything else
# is in conf.d
set $mod Mod4
set $alt Mod1

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
# don't use quotes and spaces like the example, run it all together or the restore won't work
set $ws1 1:fire
set $ws2 2:comment
set $ws3 3:terminal
set $ws4 4:code
set $ws5 5:music
set $ws6 6:tasks
set $ws7 7
set $ws8 8
set $ws9 9
set $ws10 10

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
#font pango:monospace 8
font pango:FiraCode 8
hide_edge_borders smart

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

exec --no-startup-id greenclip daemon
#exec --no-startup-id picom
exec_always --no-startup-id picom --backend glx --vsync
exec --no-startup-id /home/kellya/projects/public/gnome-keyring-yubikey-unlock /home/kellya/gnome-secret

# Set screen lock
exec xset s 300 5
exec xss-lock -n /usr/libexec/xsecurelock/dimmer -l -- xsecurelock
workspace_layout tabbed
exec --no-startup-id "i3-msg 'workspace $ws1; append_layout ~/.config/i3/layout/w1.json'"
exec --no-startup-id "i3-msg 'workspace $ws2; append_layout ~/.config/i3/layout/w2.json'"
exec --no-startup-id "i3-msg 'workspace $ws3; append_layout ~/.config/i3/layout/w3.json'"
exec --no-startup-id "i3-msg 'workspace $ws4; append_layout ~/.config/i3/layout/w4.json'"
exec --no-startup-id "i3-msg 'workspace $ws5; append_layout ~/.config/i3/layout/w5.json'"
exec --no-startup-id "i3-msg 'workspace $ws6; append_layout ~/.config/i3/layout/w6.json'"
# use gnome settings to set gnome things to dark mode by default
exec --no-startup-id /usr/libexec/gsd-xsettings
exec --no-startup-id ~/bin/bg_rotate.sh
exec --no-startup-id firefox
exec --no-startup-id "kitty --name mail neomutt"
#attempt to move this after the desktop restore in hopes that shitty teams will start where it's fucking supposed to!
exec --no-startup-id dex-autostart --autostart --environment i3

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

for_window [all] title_window_icon on
for_window [all] title_window_icon padding 1px
for_window [all] title_format "%class"
for_window [class="gnome-calculator"] floating enable

include conf.d/*.conf
